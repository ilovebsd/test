package system;

import java.util.ArrayList;

import framework.ftp.FtpClientEx;

public class RestoreFtpGetList {
	public 		FtpClientEx		ftpClient			=	new FtpClientEx();
	private 	ArrayList		backupFileList		=	new ArrayList();
	private 	String 			ip					=	"";
	private 	String 			id					=	"";
	private 	String 			password			=	"";
	private 	int 			port				=	21;
	public int connect(){
		int nReturn=0;
		ftpClient.setServerIP(ip);
		ftpClient.setLoginId(id);
		ftpClient.setLoginPW(password);
		ftpClient.setServerport(port);
		if(ftpClient.login())
			nReturn=1;
		return nReturn;
	}
	public ArrayList getBackupFileList(String findName) throws Exception{
		ArrayList tmepbackupFileList=ftpClient.getLs();
		backupFileList.clear();
		if(tmepbackupFileList!=null){
			for(int i=0;i<tmepbackupFileList.size();i++){
				String strTemp=(String)tmepbackupFileList.get(i);
				if(strTemp!=null && strTemp.indexOf(findName)!=-1){
					backupFileList.add(strTemp);					
				}
			}
		}
		return backupFileList;
		
	}
	public ArrayList getRestoreFileList()throws Exception{
		ArrayList tmepbackupFileList=ftpClient.getLs();
		backupFileList.clear();
		if(tmepbackupFileList!=null){
			for(int i=0;i<tmepbackupFileList.size();i++){
				String strTemp=(String)tmepbackupFileList.get(i);
				backupFileList.add(strTemp);
			}
		}
		return backupFileList;
	}
	public String getIp() {
		return ip;
	}
	public void setIp(String ip) {
		this.ip = ip;
	}
	public String getId() {
		return id;
	}
	public void setId(String id) {
		this.id = id;
	}
	public String getPassword() {
		return password;
	}
	public void setPassword(String password) {
		this.password = password;
	}
	public int getPort() {
		return port;
	}
	public void setPort(int port) {
		this.port = port;
	}

}
