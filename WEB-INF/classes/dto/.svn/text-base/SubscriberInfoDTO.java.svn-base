package dto;

import java.nio.CharBuffer;

public class SubscriberInfoDTO {
	
	private String ID = "";
	private int loginLevel = 0;
	private String Pwd = "";
	private String PhoneNum = "";
	private String Name = "";
	private String Position = "";
	private int Department = 0;
	private String Mobile = "";
	private String HomeNumber = "";
	private String Extension = "";
	private String MailAddress = "";
	private String HomePage = "";
	private String Address = "";
	private String Introduction = "";
	private boolean usePresence = true;
	private String  CompanyNumber = "";
	private String deptName = "";
	private String fax = "";
	private String birthday = "";
	//private DeptDTO deptDTO = null;

	public SubscriberInfoDTO(String ID) {
		this.ID = ID;
	}
	public SubscriberInfoDTO() {}

	public String getSubsID() {
		return this.ID;
	}

	public void setSubsID(String ID) {
		this.ID = ID;
	}
	
	public int getLoginLevel() {
        return loginLevel;
	}
	
	public void setLoginLevel(int loginLevel) {
	    this.loginLevel = loginLevel;
	}

	public String getSusbsPwd() {
		return Pwd;
	}

	public void setSusbsPwd(String Pwd) {
		this.Pwd = Pwd;
	}

	public String getPhoneNum() {
		return PhoneNum;
	}

	public void setPhoneNum(String PhoneNum) {
		this.PhoneNum = PhoneNum;
	}
	
	public String getName() {
		return Name;
	}

	public void setName(String Name) {
		this.Name = Name;
	}
	public String getPosition() {
		return Position;
	}

	public void setPosition(String Position) {
		this.Position = Position;
	}
	
	public int getDepartment() {
		return Department;
	}

	public void setDepartment(int Department) {
		this.Department = Department;
	}
	
	public String getMobile() {
		return Mobile;
	}

	public void setMobile(String Mobile) {
		this.Mobile = Mobile;
	}
	
	public String getHomeNumber() {
		return HomeNumber;
	}

	public void setHomeNumber(String HomeNumber) {
		this.HomeNumber = HomeNumber;
	}
	
	public String getExtension() {
		return Extension;
	}
	public void setExtension(String Extension) {
		this.Extension = Extension;
	}
	public String getMailAddress() {
		return MailAddress;
	}

	public void setMailAddress(String MailAddress) {
		this.MailAddress = MailAddress;
	}
	
	public String getHomePage() {
		return HomePage;
	}

	public void setHomePage(String HomePage) {
		this.HomePage = HomePage;
	}
	
	public String getAddress() {
		return Address;
	}

	public void setAddress(String Address) {
		this.Address = Address;
	}
	
	public String getIntroduction() {
		return Introduction;
	}

	public void setIntroduction(String Introduction) {
		this.Introduction = Introduction;
	}
	
	
	public boolean getUsePresence() {
		return usePresence;
	}

	public void setUsePresence(boolean usePresence) {
		this.usePresence = usePresence;
	}
	public String getCompanyNumber() {
		return CompanyNumber;
	}

	public void setCompanyNumber(String CompanyNumber) {
		this.CompanyNumber = CompanyNumber;
	}
	public String getDeptName() {
		return deptName;
	}

	public void setDeptName(String deptName) {
		this.deptName = deptName;
	}
	
    public String getFax() {
		return fax;
	}
	public void setFax(String fax) {
		this.fax = fax;
	}
	
	public String getBirthday() {
		return birthday;
	}
	public void setBirthday(String birthday) {
		this.birthday = birthday;
	}
	
	/*
	public DeptDTO getDeptDTO() {
		return this.deptDTO;
	}

    public void setDeptDTO(DeptDTO deptDTO) {
                this.deptDTO = deptDTO;
    }
    */
	
	
	public String toXmlString(String strDepartment, String blank) {
    	
    	String usePresence ="0" ;

    	 if ( getUsePresence() == true ) 
    	 {  
    		 usePresence = "1";  
    	 }  
    	 else  
    	 {  
    		 usePresence = "0" ;  
    	 }
    	
           String xml = blank+"            <Buddy " ; 
           xml += " parent=\""  +  getDeptName() + "\" " ;
           xml += " description=\""  + getPosition() + "  " + getName() + "\" " ;
           xml += " represent=\""  +  getPhoneNum() + "\" " ;
           xml += " officebox=\""  +  "" + "\" " ;
           xml += " operation=\""  +  "0"+ "\" " ;
           xml += " presence=\""  +  "1"+ "\" " ;
           xml += "> \n" ;

           
           
           xml += blank+"                <ID>" + getSubsID().substring(0,getSubsID().lastIndexOf("@")) + "</ID>\n" ;
           xml += blank+"                <NickName>" + toXMLChangeString(getName()) + "</NickName>\n" ;
           xml += blank+"                <Position>" + toXMLChangeString(getPosition()) + "</Position>\n" ;
           xml += blank+"                <Department>" + toXMLChangeString(getDeptName()) + "</Department>\n" ;
           xml += blank+"                <Mobile>" + getMobile() + "</Mobile>\n" ;
           xml += blank+"                <Extension>" + getExtension() + "</Extension>\n" ;
           xml += blank+"                <MailAddress>" + toXMLChangeString(getMailAddress()) + "</MailAddress>\n" ;
           xml += blank+"                <CompanyNumber>" + getPhoneNum() + "</CompanyNumber>\n" ;
           xml += blank+"                <HomeNumber>" + getHomeNumber() + "</HomeNumber>\n" ;
           xml += blank+"                <Fax>" + getFax() + "</Fax>\n" ;
           xml += blank+"                <Birthday>" + getBirthday() + "</Birthday>\n" ;
           xml += blank+"                <HomePage>" + toXMLChangeString(getHomePage()) + "</HomePage>\n" ;
           xml += blank+"                <Introduction>" + toXMLChangeString(getIntroduction()) + "</Introduction>\n" ;
           xml += blank+"            </Buddy> \n" ;

	    return xml ;
        }
	
	/*
	 * XML 특수문자 변한 (", \', <, >, &)
	 */ 	
	 public String toXMLChangeString(String xmlTemp){
		  String strTemp = xmlTemp;
		  
		  CharBuffer cb = CharBuffer.wrap(strTemp);
		  String xmlString = "";
		  while(cb.hasRemaining()){
			   char tempChar = cb.get();
		   
			   if( tempChar == '"' ){
				   xmlString += "&quot;";
			   }else if( tempChar == '&' ){
				   xmlString += "&amp;";
			   }else if( tempChar == '\'' ){
				   xmlString += "&apos;";
			   }else if( tempChar == '<' ){
				   xmlString += "&lt;";
			   }else if( tempChar == '>' ){
				   xmlString += "&gt;";
			   }else{
				   xmlString += tempChar;
			   }
		  }
		  return xmlString ;
	 }
	 
}
