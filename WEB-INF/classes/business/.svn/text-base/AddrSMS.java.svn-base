package business;

import java.sql.ResultSet ;
import java.util.ArrayList ;
import java.util.List ;
import acromate.common.util.Str ;
import com.acromate.driver.db.DataStatement ;

public class AddrSMS {
	
    /**
     * SMS수신자 정보 검색하는 부분
     * @param stmt      	DB Object
     * @param userID   		발신자 userID
     */			
	public String getSmsSendData(DataStatement stmt, String userID) {
		String 		returnData 	= "" ;
		String 		phonenum 	= "" ;
		String 		mobile 	= "" ;
		String 		homenumber 	= "" ;
		ResultSet 	rs 		= null;
		
		String 	sql = " select phonenum, mobile, homenumber from table_subscriber ";		
		sql = sql + " WHERE id = '" + userID + "' ";        
		        
        try {
            if (stmt != null) {
                rs = stmt.executeQuery(sql);
                if (rs.next()){ 
                	phonenum 	= Str.CheckNullString(rs.getString("phonenum")); 
                	mobile 		= Str.CheckNullString(rs.getString("mobile"));
                	homenumber 	= Str.CheckNullString(rs.getString("homenumber"));
                }
                rs.close();
                returnData = phonenum+"|"+mobile+"|"+homenumber+"|";
            } else            
                System.out.println("데이터베이스에 연결할 수 없습니다.");            
        } catch (Exception e) {
            System.out.println(e.getMessage());
            return returnData;
        } finally {
            try {
                if (rs != null)
                    rs.close();
            } catch (Exception e) {}
        }
        return returnData;
    }	
}
